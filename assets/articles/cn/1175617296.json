{"url": "https://api.github.com/repos/kemu3007/portal/issues/22", "repository_url": "https://api.github.com/repos/kemu3007/portal", "labels_url": "https://api.github.com/repos/kemu3007/portal/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/kemu3007/portal/issues/22/comments", "events_url": "https://api.github.com/repos/kemu3007/portal/issues/22/events", "html_url": "https://github.com/kemu3007/portal/issues/22", "id": 1175617296, "node_id": "I_kwDOG7qoq85GEn8Q", "number": 22, "title": "AWS Apex域", "user": {"login": "kemu3007", "id": 29157528, "node_id": "MDQ6VXNlcjI5MTU3NTI4", "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kemu3007", "html_url": "https://github.com/kemu3007", "followers_url": "https://api.github.com/users/kemu3007/followers", "following_url": "https://api.github.com/users/kemu3007/following{/other_user}", "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}", "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions", "organizations_url": "https://api.github.com/users/kemu3007/orgs", "repos_url": "https://api.github.com/users/kemu3007/repos", "events_url": "https://api.github.com/users/kemu3007/events{/privacy}", "received_events_url": "https://api.github.com/users/kemu3007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3898939400, "node_id": "LA_kwDOG7qoq87oZRgI", "url": "https://api.github.com/repos/kemu3007/portal/labels/article", "name": "article", "color": "C200E5", "default": false, "description": ""}, {"id": 3951278401, "node_id": "LA_kwDOG7qoq87rg7lB", "url": "https://api.github.com/repos/kemu3007/portal/labels/AWS", "name": "AWS", "color": "EE0471", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-21T16:14:23Z", "updated_at": "2022-03-21T16:34:46Z", "closed_at": null, "author_association": "OWNER", "active_lock_reason": null, "body": "如果将站点放置在AWS上，则是一种常见的配置，例如将SSL证书放在负载平衡器上并在目标组中指定EC2。\r\n\r\n在这种配置的情况下，将普通的CNAME记录添加到域的DNS记录中，并描述了负载平衡器的DNS名称。\r\n\r\n<img width =“ 644” alt =“ ScreenShot 2022-03-22 0 46 54” src =“ https：//uffer-simes.githubusercontent.com png”>\r\n\r\n但是，如果要为Apex域（此站点`kemu.site`）设置负载平衡器，则无法添加CNAME记录。\r\n\r\n公路平衡器IP是可变的，不建议因重新启动而更改的行为，也不建议修复道路平衡器的IP，但价格昂贵。\r\n\r\n> [AWS全局加速器]（https://aws.amazon.com/jp/global-accelerator/?blogs-global-accelerator.sort-celtem.additionalfields.createddate&blogs-blogs-global-accelerator.sort-accelerator.sort-Accelerator.sort-Acceler.sort-erorder = DESCcccccc＆awccccc＆awccc＆occcc＆occcc＆accel.sccc＆accelerator. global-accelerator-wn.sort-by = item.additionalfields.postdateTime＆aws-global-accelerator-wn.sort-desc\r\n\r\n因此，我们使用Route53的A -RECORD别名函数。\r\n\r\n<img width =“ 875” alt =“ Screenshot 2022-03-22 0 53 49” src =“ https：//user-mips.githubusercontent.com png”>\r\n\r\n<img width =“ 885” alt =“ Screenshot 2022-03-22 0 56 09” src =“ https：//user-mips.githubusercontent.com png”>\r\n\r\n端点的别名可以以上述形式设置。\r\n\r\n如果您当前不使用Route53，则需要使用Route53创建一个主机区域，并将其从名称DOT COM或Google Domain Management Management屏幕设置，以使域NS记录的值为NS。 （反映变化需要一点时间。此时，它在大约一个小时内得到了反映。）\r\n\r\n这允许Apex域指定可变的道路平衡器端点。\r\n\r\n两个记录被注册为实际注册值。\r\n\r\n````ZSH\r\n$ DIG KEMU。站点\r\n\r\n; << >>挖掘9.10.6 << >> kemu.Site\r\n;;全局选项： +CMD\r\n;;得到答案：\r\n;;  -  >>标题<< -opcode：查询，状态：NoError，ID：7482\r\n;;标志：QR RD RA;查询：1，答案：2，授权：0，附加：1\r\n\r\n;;选择伪选择：\r\n; edns：版本：0，标志：; udp：512\r\n;;问题部分：\r\nkemu.Site。\r\n\r\n;;答案部分：\r\nKemu.Site。60在A 54.178.253.199\r\nKemu.Site。60在A 13.231.15.68\r\n\r\n;;查询时间：103毫秒\r\n;;服务器：2404：1A8：7F01：B :: 3＃53（2404：1A8：7F01：b：3）\r\n;;时间：3月22日星期二00:36:06 JST 2022\r\n;; MSG大小RCVD：70\r\n````````\r\n\r\n我不知道如何内部分配IP，但是它似乎插入了记录和路由，以便我可以这样设置。\r\n\r\n\r\n*如果要通过IP地址来防止直接磷，则需要使用AWS WAF。 （我什么都没有设置，因为我没有任何好的信息）", "reactions": {"url": "https://api.github.com/repos/kemu3007/portal/issues/22/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kemu3007/portal/issues/22/timeline", "performed_via_github_app": null, "state_reason": null}