{
  "url": "https://api.github.com/repos/kemu3007/portal/issues/40",
  "repository_url": "https://api.github.com/repos/kemu3007/portal",
  "labels_url": "https://api.github.com/repos/kemu3007/portal/issues/40/labels{/name}",
  "comments_url": "https://api.github.com/repos/kemu3007/portal/issues/40/comments",
  "events_url": "https://api.github.com/repos/kemu3007/portal/issues/40/events",
  "html_url": "https://github.com/kemu3007/portal/issues/40",
  "id": 1223579698,
  "node_id": "I_kwDOG7qoq85I7lgy",
  "number": 40,
  "title": "Pyodide 从JavaScript中运行Python脚本。",
  "user": {
    "login": "kemu3007",
    "id": 29157528,
    "node_id": "MDQ6VXNlcjI5MTU3NTI4",
    "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kemu3007",
    "html_url": "https://github.com/kemu3007",
    "followers_url": "https://api.github.com/users/kemu3007/followers",
    "following_url": "https://api.github.com/users/kemu3007/following{/other_user}",
    "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions",
    "organizations_url": "https://api.github.com/users/kemu3007/orgs",
    "repos_url": "https://api.github.com/users/kemu3007/repos",
    "events_url": "https://api.github.com/users/kemu3007/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kemu3007/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3898939400,
      "node_id": "LA_kwDOG7qoq87oZRgI",
      "url": "https://api.github.com/repos/kemu3007/portal/labels/article",
      "name": "article",
      "color": "C200E5",
      "default": false,
      "description": ""
    },
    {
      "id": 3900078597,
      "node_id": "LA_kwDOG7qoq87odnoF",
      "url": "https://api.github.com/repos/kemu3007/portal/labels/Python",
      "name": "Python",
      "color": "1D76DB",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "kemu3007",
    "id": 29157528,
    "node_id": "MDQ6VXNlcjI5MTU3NTI4",
    "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kemu3007",
    "html_url": "https://github.com/kemu3007",
    "followers_url": "https://api.github.com/users/kemu3007/followers",
    "following_url": "https://api.github.com/users/kemu3007/following{/other_user}",
    "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions",
    "organizations_url": "https://api.github.com/users/kemu3007/orgs",
    "repos_url": "https://api.github.com/users/kemu3007/repos",
    "events_url": "https://api.github.com/users/kemu3007/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kemu3007/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "kemu3007",
      "id": 29157528,
      "node_id": "MDQ6VXNlcjI5MTU3NTI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kemu3007",
      "html_url": "https://github.com/kemu3007",
      "followers_url": "https://api.github.com/users/kemu3007/followers",
      "following_url": "https://api.github.com/users/kemu3007/following{/other_user}",
      "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions",
      "organizations_url": "https://api.github.com/users/kemu3007/orgs",
      "repos_url": "https://api.github.com/users/kemu3007/repos",
      "events_url": "https://api.github.com/users/kemu3007/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kemu3007/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-05-03T02:57:37Z",
  "updated_at": "2022-05-05T01:04:38Z",
  "closed_at": null,
  "author_association": "OWNER",
  "active_lock_reason": null,
  "body": "\n\n在2022年美国PyCon大会上关于PyScript的演讲后，我随大流，介绍了Pyodide，现在我手头已经摸到了。\n\n[来自Anaconda的新消息：浏览器中的Python](https://www.anaconda.com/blog/pyscript- python- in- the- browser)\n\n##通过CDN导入Pyodide。\n\n```html\n<head>\n    <script src=\"https://cdn.jsdelivr.net/pyodide/v0.20.0/full/pyodide.js\"></script>\n</head>\n```\n\n## 运行Python脚本\n\n`const pyodide = await loadPyodide();`执行初始化过程，`pyodide.runPython`执行该脚本。\n\n`runPython'的返回值是在脚本文件中评估的最后一个值。\n\n正在检查关于导入软件包的操作。\n\n-  文件配置\n\n```markdown\n- index.html\n- scripts/\n  - get_version.py\n  - get_zen.py \n```\n\n-  `index.html`。\n\n```html\n<h2>Python: <span id=\"python-version\"></span></h2>\n<hr />\n<div id=\"python-zen\"></div>\n\n<script type=\"text/javascript\">\nasync function setScriptValue(pyodide, dir, tag) {\n  const script = await (await fetch(dir)).text()\n  document.getElementById(tag).innerText = pyodide.runPython(script)\n}\nasync function main(){\n    const pyodide = await loadPyodide();\n    setScriptValue(pyodide, \"scripts/get_zen.py\", \"python-zen\")\n    setScriptValue(pyodide, \"scripts/get_version.py\", \"python-version\")\n}\nmain();\n</script>\n```\n\n-  `scripts/get_zen.py`。\n\n```python\nimport io\nfrom contextlib import redirect_stdout\n\nstdout = io.StringIO()\n\nwith redirect_stdout(stdout):\n    import this\n\nstdout.getvalue()\n```\n\n-  `scripts/get_version.py`。\n\n```python\nimport sys\n\nf\"{sys.version_info.major}.{sys.version_info.minor}.{sys.version_info.micro}\"\n```\n## 显示的屏幕。\n\n显示了Python的Zen，执行环境似乎是3.10.2。\n\n![image](https://user-images.githubusercontent.com/29157528/166849852-d2d81146-baa4-4fc7-a697-4e083e2135a3.png)\n\n## ＃＃可用的库。\n\n以下库默认是可用的，包括scikit- learn，它将在下次测试。\n\nhttps://pyodide.org/en/stable/usage/packages- in- pyodide.html\n\n##代码和测试页面\n\n在这个案例中使用的代码可以找到[这里](https://github.com/kemu3007/pyodide- sample)和创建的页面[这里](https://kemu3007.github.io/pyodide- sample/).",
  "reactions": {
    "url": "https://api.github.com/repos/kemu3007/portal/issues/40/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/kemu3007/portal/issues/40/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
