{
  "url": "https://api.github.com/repos/kemu3007/portal/issues/2",
  "repository_url": "https://api.github.com/repos/kemu3007/portal",
  "labels_url": "https://api.github.com/repos/kemu3007/portal/issues/2/labels{/name}",
  "comments_url": "https://api.github.com/repos/kemu3007/portal/issues/2/comments",
  "events_url": "https://api.github.com/repos/kemu3007/portal/issues/2/events",
  "html_url": "https://github.com/kemu3007/portal/issues/2",
  "id": 1160526026,
  "node_id": "I_kwDOG7qoq85FLDjK",
  "number": 2,
  "title": "关于被Google Adsense、网站结构等卡住的故事。",
  "user": {
    "login": "kemu3007",
    "id": 29157528,
    "node_id": "MDQ6VXNlcjI5MTU3NTI4",
    "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kemu3007",
    "html_url": "https://github.com/kemu3007",
    "followers_url": "https://api.github.com/users/kemu3007/followers",
    "following_url": "https://api.github.com/users/kemu3007/following{/other_user}",
    "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions",
    "organizations_url": "https://api.github.com/users/kemu3007/orgs",
    "repos_url": "https://api.github.com/users/kemu3007/repos",
    "events_url": "https://api.github.com/users/kemu3007/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kemu3007/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3898939400,
      "node_id": "LA_kwDOG7qoq87oZRgI",
      "url": "https://api.github.com/repos/kemu3007/portal/labels/article",
      "name": "article",
      "color": "C200E5",
      "default": false,
      "description": ""
    },
    {
      "id": 3900082041,
      "node_id": "LA_kwDOG7qoq87odod5",
      "url": "https://api.github.com/repos/kemu3007/portal/labels/Utils",
      "name": "Utils",
      "color": "170627",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-03-06T05:51:34Z",
  "updated_at": "2022-04-04T05:16:06Z",
  "closed_at": null,
  "author_association": "OWNER",
  "active_lock_reason": null,
  "body": "这个网站的结构是\n\n`Name.com - > Route 53 - > AWS ALB - （http1.1）> AWS EC2`。\n\n该系统的形式如下。刚开始实施的时候，\n\n`Name.com - > AWS ALB - (http2.0)> AWS EC2`.\n\n但它是在adsense注册的，这是因为ALB的规范而发生的。\n\n在注册adsense时有两个绊脚石，所以我把它们记下来了。\n\n## 1.当我试图用adsense注册时，我得到一个错误，说我无法到达该网站\n\n总之，[Http Error 464]（https://docs.aws.amazon.com/ja_jp/elasticloadbalancing/latest/application/load- balancer- troubleshooting.html#http- 464- issues）正在发生。\n\n似乎请求的http和负载均衡器内的协议不匹配，因此出现了错误。\n\n与ALB目标组的通信必须被设置为http1.1，EC2上的nginx也必须被修改为http1.1。\n\n当我在google搜索控制台输入网站地图时，屏幕上出现了错误464，我终于发现了。\n\n\n###措施。\n```bash\ncurl http://example.com/ --http1.1\ncurl http://example.com/ --http2\n```\n\n你需要使用手头的curl命令进行检查，比如说\n\n\n- - - \n\n## 2. name.com只能为子域注册CNAME记录。\n\nALB被分配了一个IP地址，这个地址不是固定的，而是在扩大规模时发生变化，比如说。\n\n因此，要分配一个DNS名称，并且必须在域名的DNS配置中创建一个CNAME记录。\n\n然而，Name.com不允许创建CNAME记录，除非是子域。所以我想过把我的域名转到Route53，因为我感觉Name.com一般很难使用，但这是不可能的。\n\n对Route53可以管理的顶级域名有限制，\"site \"不在其中。\n\n[可通过亚马逊路线53注册的顶级域名](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/registrar- tld- list.html)\n\n因此，修改的方法是在Route 53中创建一个区，将创建的区中描述的NS设置为Name.com方面的NS，并将该区从Route 53引导到ALB。\n\n还有一种方法是使用AWS全球加速器来分配和使用IP地址，但我这次不想花钱，而且它似乎相当昂贵，所以我放弃了它。\n它似乎可以提高性能，所以如果项目在这方面很严重，我认为包括它是一个好主意。\n\n[AWS全球加速器](https://aws.amazon.com/jp/global- accelerator/?blogs- global- accelerator.sort- by=item.additionalFields.createdDate&blogs- global- accelerator.sort- order=desc&aws- global- accelerator- wn.sort- by=item.additionalFields.postDateTime&aws- global- accelerator- wn.sort- order=desc)\n\n\n- - - \n\n当我在谷歌上搜索 \"无法到达网站 \"的错误时，我得到的所有信息都是关于Hatena Blog的付费版本（它重定向到www.），我花了一些时间来找出原因，但我很高兴我解决了这个问题。",
  "reactions": {
    "url": "https://api.github.com/repos/kemu3007/portal/issues/2/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/kemu3007/portal/issues/2/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
