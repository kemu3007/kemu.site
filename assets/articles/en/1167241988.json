{
  "url": "https://api.github.com/repos/kemu3007/portal/issues/13",
  "repository_url": "https://api.github.com/repos/kemu3007/portal",
  "labels_url": "https://api.github.com/repos/kemu3007/portal/issues/13/labels{/name}",
  "comments_url": "https://api.github.com/repos/kemu3007/portal/issues/13/comments",
  "events_url": "https://api.github.com/repos/kemu3007/portal/issues/13/events",
  "html_url": "https://github.com/kemu3007/portal/issues/13",
  "id": 1167241988,
  "node_id": "I_kwDOG7qoq85FkrME",
  "number": 13,
  "title": "Display OGP in SPA deployed with GitHub Pages (spirited)",
  "user": {
    "login": "kemu3007",
    "id": 29157528,
    "node_id": "MDQ6VXNlcjI5MTU3NTI4",
    "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kemu3007",
    "html_url": "https://github.com/kemu3007",
    "followers_url": "https://api.github.com/users/kemu3007/followers",
    "following_url": "https://api.github.com/users/kemu3007/following{/other_user}",
    "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions",
    "organizations_url": "https://api.github.com/users/kemu3007/orgs",
    "repos_url": "https://api.github.com/users/kemu3007/repos",
    "events_url": "https://api.github.com/users/kemu3007/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kemu3007/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3898939400,
      "node_id": "LA_kwDOG7qoq87oZRgI",
      "url": "https://api.github.com/repos/kemu3007/portal/labels/article",
      "name": "article",
      "color": "C200E5",
      "default": false,
      "description": ""
    },
    {
      "id": 3900074882,
      "node_id": "LA_kwDOG7qoq87odmuC",
      "url": "https://api.github.com/repos/kemu3007/portal/labels/Angular",
      "name": "Angular",
      "color": "D93F0B",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-03-12T09:56:24Z",
  "updated_at": "2022-03-12T14:33:09Z",
  "closed_at": null,
  "author_association": "OWNER",
  "active_lock_reason": null,
  "body": "Normally, when SPA is deployed, OGP is not displayed on twitter, etc.\n\nThis is due to the fact that the bot that retrieves the OGP does not execute the js, and because it is an SPA, there is no static HTML file for the corresponding link.\n\nTherefore, lambda or other means are usually used to display pages for the bot, while other accesses are sent to S3.\n\nHowever, this time we wanted to complete the process using only GitHub Pages without putting that much effort into it, so we sought a solution.\n\n\n### Solution\n\nIf you don't have a page, why don't you just add one?\n\nIn this case, we added the corresponding linked directory (\"src/blog\" in this case) to the assets of angular.json, so that it will be retained at build time.\n\nThe page is created by running a Python script in Action at the time of deployment to generate a file in the following form.\n\n```\nsrc/blog/index.html\nsrc/blog/<:id>/index.html\n```\n\nSee: https://github.com/kemu3007/portal/blob/master/create_pages.py\n\nThe contents of the HTML file are prepared first, the contents of the title, image, and description are modified to what you want to display on the page, and the HTML file is saved in the directory that matches the link on the page. The HTML file is then saved in the directory that matches the link on the page.\n\nNow when you step on the direct link, you will be taken to HTML that contains only static OGP without going through the SPA, so you will be taken to the root link where the Angular application resides within this page, and the current path is passed as a query parameter, and the internal link will take you there.\n\nNote that if you do this in app- component, `route.snapshot.queryParams` will be empty because it is not inside router- outlet.\n\nbot: link - > `OGP- only HTML`.\nVisitor: link - > `OGP- only HTML` - > `Angular Application`.\n\nOnce a transition is made to the application, all subsequent transitions are handled by internal links, so there are no transition problems.\n\n\n### Comments\n\nIt is an easy and simple method to come up with, but it took a little time.\n\nI solved the OGP with a lot of energy, so if you ask me if I would do this at work, I wouldn't. But it's my personal blog, so I'm okay with it.\n\nI feel like I don't know anything about SEO, just a little bit, so if you have a better way, please let me know in the comments.",
  "reactions": {
    "url": "https://api.github.com/repos/kemu3007/portal/issues/13/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/kemu3007/portal/issues/13/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
