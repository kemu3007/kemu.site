{"url": "https://api.github.com/repos/kemu3007/portal/issues/13", "repository_url": "https://api.github.com/repos/kemu3007/portal", "labels_url": "https://api.github.com/repos/kemu3007/portal/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/kemu3007/portal/issues/13/comments", "events_url": "https://api.github.com/repos/kemu3007/portal/issues/13/events", "html_url": "https://github.com/kemu3007/portal/issues/13", "id": 1167241988, "node_id": "I_kwDOG7qoq85FkrME", "number": 13, "title": "Display OGP in the deployed SPA with GitHub Pages", "user": {"login": "kemu3007", "id": 29157528, "node_id": "MDQ6VXNlcjI5MTU3NTI4", "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kemu3007", "html_url": "https://github.com/kemu3007", "followers_url": "https://api.github.com/users/kemu3007/followers", "following_url": "https://api.github.com/users/kemu3007/following{/other_user}", "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}", "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions", "organizations_url": "https://api.github.com/users/kemu3007/orgs", "repos_url": "https://api.github.com/users/kemu3007/repos", "events_url": "https://api.github.com/users/kemu3007/events{/privacy}", "received_events_url": "https://api.github.com/users/kemu3007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3898939400, "node_id": "LA_kwDOG7qoq87oZRgI", "url": "https://api.github.com/repos/kemu3007/portal/labels/article", "name": "article", "color": "C200E5", "default": false, "description": ""}, {"id": 3900074882, "node_id": "LA_kwDOG7qoq87odmuC", "url": "https://api.github.com/repos/kemu3007/portal/labels/Angular", "name": "Angular", "color": "D93F0B", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-03-12T09:56:24Z", "updated_at": "2022-03-12T14:33:09Z", "closed_at": null, "author_association": "OWNER", "active_lock_reason": null, "body": "Normally, when the SPA is deployed, OGP is not displayed on Twitter etc.\r\n\r\nThis is due to the fact that the bot that gets OGP does not execute the JS, and that there is no static HTML file at the corresponding link to the SPA.\r\n\r\nTherefore, it is usually used to display the page for bot using Lambda, etc., and to fly other access to S3.\r\n\r\nHowever, this time, I wanted a solution because I wanted to complete it with only GitHub Pages without any effort.\r\n\r\n\r\n### Solution\r\n\r\n_ If you don't have a page, you should add a page _\r\n\r\nThis time, a linked directory (\"SRC/BLOG\") was added to Angular.json's Assets so that it was built.\r\n\r\nThe page creates the Python script with the action during deployment and generates a file in the following form.\r\n\r\n`` `\r\nSRC/BLOG/index.html\r\nSRC/Blog/<: ID> /index.html\r\n`` `\r\n\r\nSee: https://github.com/kemu3007/portal/blob/master/create_pages.py\r\n\r\nPrepare the base HTML first, modify the contents of Title, Image, and Description on the corresponding page, and save the HTML file in a directory that matches the link on the page. ã€‚ It will be the form.\r\n\r\nThis transitions to HTML, which contains only static OGP without going through the SPA when you step directly through the SPA, so it will be transition to the root link with Angular applications on this page. The path is passed by a query parameter and transitioned by internal link.\r\n\r\n* It is important to note that if this process is performed with App-Component, it will not be inside Router-Outlet, so `root.snapshot.queryParams` will be empty.\r\n\r\nbot: Link-> `OGP only HTML`\r\nViewer: Link-> `OGP only html`->` Angular Application`\r\n\r\nOnce the application is transitioned, there is no problem with transitions because all the internal links are processed.\r\n\r\n\r\n### thoughts\r\n\r\nIf you come up with it, it's an easy and simple way, but it took a little time.\r\n\r\nIt's a form that solves the OGP with a spirit, so if you ask me to do this at work, I won't do it, but it's a personal blog.\r\n\r\nSEO measures are a little bit bite and I don't know at all, so if you have a better way, please let me know.", "reactions": {"url": "https://api.github.com/repos/kemu3007/portal/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kemu3007/portal/issues/13/timeline", "performed_via_github_app": null, "state_reason": null}