{
    "url": "https://api.github.com/repos/kemu3007/portal/issues/44",
    "repository_url": "https://api.github.com/repos/kemu3007/portal",
    "labels_url": "https://api.github.com/repos/kemu3007/portal/issues/44/labels{/name}",
    "comments_url": "https://api.github.com/repos/kemu3007/portal/issues/44/comments",
    "events_url": "https://api.github.com/repos/kemu3007/portal/issues/44/events",
    "html_url": "https://github.com/kemu3007/portal/issues/44",
    "id": 1238798339,
    "node_id": "I_kwDOG7qoq85J1pAD",
    "number": 44,
    "title": "SEO SPA to GitHub Pages while considering SEO",
    "user": {
        "login": "kemu3007",
        "id": 29157528,
        "node_id": "MDQ6VXNlcjI5MTU3NTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kemu3007",
        "html_url": "https://github.com/kemu3007",
        "followers_url": "https://api.github.com/users/kemu3007/followers",
        "following_url": "https://api.github.com/users/kemu3007/following{/other_user}",
        "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions",
        "organizations_url": "https://api.github.com/users/kemu3007/orgs",
        "repos_url": "https://api.github.com/users/kemu3007/repos",
        "events_url": "https://api.github.com/users/kemu3007/events{/privacy}",
        "received_events_url": "https://api.github.com/users/kemu3007/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 3898939400,
            "node_id": "LA_kwDOG7qoq87oZRgI",
            "url": "https://api.github.com/repos/kemu3007/portal/labels/article",
            "name": "article",
            "color": "C200E5",
            "default": false,
            "description": ""
        },
        {
            "id": 3900074882,
            "node_id": "LA_kwDOG7qoq87odmuC",
            "url": "https://api.github.com/repos/kemu3007/portal/labels/Angular",
            "name": "Angular",
            "color": "D93F0B",
            "default": false,
            "description": ""
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-05-17T15:15:57Z",
    "updated_at": "2022-05-17T16:00:18Z",
    "closed_at": null,
    "author_association": "OWNER",
    "active_lock_reason": null,
    "body": "\nWhen deploying SPA on GitHub Pages, Cloud re Pages, you should not be careful in terms of SEO and how to deployやり方ular.\n\n## #ular deployment\n\nGitHub\nBuild\n```bash\n$ npm run build\n$ cp portal/dist/portal/index.html portal/dist/portal/404.html\n```\nGitHub Actions\n```yml\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      ...\n      - name: deploy gh-pages\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./portal/dist/portal\n          cname: portal.kemu.site\n```\n\nGitHub Pages refers to `404.html` if the file does not exist in the specified directory. so see `index.html` in `404.html`.\n\nCloud #re\n\nUse Cloud。re's GitHub integration or upload Actions.\n\nCloud re Pages GitHub Action\n\n* Please note that `uses: cloudactionre/pages- action@1` is described in the sample, but not `uses: cloud。re/pages- action@v1.0.0`.\n\n## Problems\n\n### If you access a path such as `blog/` because there is only a file in the root directory, `404` - > `200` will be a behavior.\n\nIf 404 occurs, Google Searchリンク determines that the link is an incorrect link and the index registration fails.\n\nAbout 302 (URL inspection only) )\n\n### Solution\n\nIf you host a server in front of you, you can use nginx's try_files, but you can copy `index.html` of the root in the directory corresponding to all URLs because it cannot be set by managed services such as GitHub Pages.\n\nI have prepared a dummy page for GoogleBot, and I have been using a means of separating it by UserAgent, but there is a troublesome management of dummy page contents and a fight against mobile friendly judgment, so I put `index.html` a little bit troublesome.\n\nThe difference between GoogleBot and the information given to the user is better not to occur as much as possible. However, GoogleBot should read thengular code as long as it is possible to perform crawling in a manner that can interpretngular code.\n\nBy using the router function such as useHash, it is possible to prevent the occurrence of 404 by linking like `/#/blog/`, but Google search results areSEO in SEO because it normalizes the URL containing `#`.\n\n## # If you share to Twitter, Twitter’s bot does not handle JS, so you can’t read OGP.\n\nIf you can not expand OGP when sharing Twitter, etc. on sites like blogs, the number of inflows to the site will be significantly reduced.\n\n### Solution\n\nPrepare a page with OGP function, and turn Twitter shared link to OGP dedicated page, and when the user accesses the OGP dedicated page, it transitions to the correct URL.\n\nYou can change the behavior of the ボタン button by following parameters such as `data- url`.\n\nThis time, the link that put `$` at the beginning is displayed on the   instead of the current link, and in the change page, it is set to redirect to the page that delete `$` in JS.\n\n```ts\nimport { Component, AfterViewInit } from '@angular/core';\n\n@Component({\n  selector: 'app-tweet-btn',\n  template: ` <div style=\"height: 30px;\">\n    <a id=\"btn\" href=\"https://twitter.com/share?ref_src=twsrc%5Etfw\" class=\"twitter-share-button\" [attr.data-url]=\"url\"\n      >tweet</a\n    >\n  </div>`,\n})\nexport class TweetBtnComponent implements AfterViewInit {\n  ngAfterViewInit(): void {\n    const script = document.createElement('script');\n    script.async = true;\n    script.src = 'https://platform.twitter.com/widgets.js';\n    const btn = document.getElementById('btn')!;\n    btn.insertAdjacentElement('afterend', script);\n  }\n\n  get url() {\n    return window.location.origin + '/$' + window.location.pathname + window.location.search;\n  }\n}\n```\n\nRedirect to `/$/blog/` - > `/blog/` and prepare a dummy page that provides OGP only for Twitter Bot that does not interpret JS.\n\nThe above two points are SEO problems and their counter s.\n\nIf you have any SEO problems or improvements in the future, I will try to summarize it in another article.\n",
    "reactions": {
        "url": "https://api.github.com/repos/kemu3007/portal/issues/44/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/kemu3007/portal/issues/44/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}