{"url": "https://api.github.com/repos/kemu3007/portal/issues/42", "repository_url": "https://api.github.com/repos/kemu3007/portal", "labels_url": "https://api.github.com/repos/kemu3007/portal/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/kemu3007/portal/issues/42/comments", "events_url": "https://api.github.com/repos/kemu3007/portal/issues/42/events", "html_url": "https://github.com/kemu3007/portal/issues/42", "id": 1227975608, "node_id": "I_kwDOG7qoq85JMWu4", "number": 42, "title": "CloudFlare Pages Show only page to authenticated users", "user": {"login": "kemu3007", "id": 29157528, "node_id": "MDQ6VXNlcjI5MTU3NTI4", "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kemu3007", "html_url": "https://github.com/kemu3007", "followers_url": "https://api.github.com/users/kemu3007/followers", "following_url": "https://api.github.com/users/kemu3007/following{/other_user}", "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}", "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions", "organizations_url": "https://api.github.com/users/kemu3007/orgs", "repos_url": "https://api.github.com/users/kemu3007/repos", "events_url": "https://api.github.com/users/kemu3007/events{/privacy}", "received_events_url": "https://api.github.com/users/kemu3007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3898939400, "node_id": "LA_kwDOG7qoq87oZRgI", "url": "https://api.github.com/repos/kemu3007/portal/labels/article", "name": "article", "color": "C200E5", "default": false, "description": ""}, {"id": 3900082041, "node_id": "LA_kwDOG7qoq87odod5", "url": "https://api.github.com/repos/kemu3007/portal/labels/Utils", "name": "Utils", "color": "170627", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-05-06T14:59:25Z", "updated_at": "2022-05-06T15:19:57Z", "closed_at": null, "author_association": "OWNER", "active_lock_reason": null, "body": "If you host a static site with GitHub Pages and do not retain the backend, you will not be able to apply user authentication, so you will deploy with CloudFlare Pages so that you can browse only the users who have passed the CloudFlare Access.\r\n\r\n[CloudFlare -Company pursuing Web performance and security | CloudFlare] (https://www.cloudflare.com/ja-jp/)\r\n\r\n## GitHub / GitLab cooperation & deployment\r\n\r\nYou can set the deployment at the time of the Push, and it is automatically linked by selecting from the following screen.\r\n\r\nThe domain is assigned for each project, and the sub -domain preview environment for each pushed brunch is deployed.\r\n\r\n! [Image] (https://user- Images.githubuserContent.com/29157528/167156872-409CE84B-F912-44E3BC-1E4C37728DC8.png8.png8.png8.png8.png8.png)\r\n\r\nBuild commands such as SPA can also be set. At this time, if you do not set an environment variable, the node version will be automatically 12, so you need to specify `node_version with environment variable.\r\n\r\nPython scripts can be turned by pretreatment, but 3.8 or more interpreter is not available because it does not exist on the image. This also needs to be specified with `python_version`.\r\n\r\n! [Image] (https://user- Images.githubuserContent.com/29157528/167157817-3DD93CA1-FD8B-44D7-8BFC-06D70357F96.png)\r\n\r\n! [Image] (https://user- Images.githubuserContent.com/29157528/167162708-2a5a777fd-4EDD-4EDD-9e18-55CCE7702887.png)\r\n\r\nYou can also confirm that the processing is running automatically from the GitHub side at the time of pushing.\r\n\r\n! [Image] (https://user- Images.githubuserContent.com/291575228/167157214-336b032D-708E-4510-8592-473da8a4d5f0.png)\r\n\r\n## User authentication\r\n\r\n`Settings `->` General `-> `Access policy`.\r\n\r\nCreate a policy for `*.project.pages.dev` when setting a policy for a preview environment domain, and when performing in a production environment.\r\n\r\nThis will display the following login screen.\r\n\r\n! [Image] (https://user- Images.githubuserContent.com/29157528/167158540-73CB3628-23B6-4f73-ba63-0ABAA405453.png)\r\n\r\n## Funning\r\n\r\nIt takes more trouble than GitHub Pages, but it seems quite good because the user authentication can be easily implemented, and the cooperation with the repository seems to be bad. (I wonder if the management screen is a little difficult to use)\r\n\r\nFrom the screen of [CloudFlare Zero Trust] (https://www.cloudflare.com/ja-jp/products/zero-trust/) screen I felt a bit stumbling.", "reactions": {"url": "https://api.github.com/repos/kemu3007/portal/issues/42/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kemu3007/portal/issues/42/timeline", "performed_via_github_app": null, "state_reason": null}