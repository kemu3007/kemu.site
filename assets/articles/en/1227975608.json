{
    "url": "https://api.github.com/repos/kemu3007/portal/issues/42",
    "repository_url": "https://api.github.com/repos/kemu3007/portal",
    "labels_url": "https://api.github.com/repos/kemu3007/portal/issues/42/labels{/name}",
    "comments_url": "https://api.github.com/repos/kemu3007/portal/issues/42/comments",
    "events_url": "https://api.github.com/repos/kemu3007/portal/issues/42/events",
    "html_url": "https://github.com/kemu3007/portal/issues/42",
    "id": 1227975608,
    "node_id": "I_kwDOG7qoq85JMWu4",
    "number": 42,
    "title": "Cloudflare Pages Display pages only to authenticated users",
    "user": {
        "login": "kemu3007",
        "id": 29157528,
        "node_id": "MDQ6VXNlcjI5MTU3NTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kemu3007",
        "html_url": "https://github.com/kemu3007",
        "followers_url": "https://api.github.com/users/kemu3007/followers",
        "following_url": "https://api.github.com/users/kemu3007/following{/other_user}",
        "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions",
        "organizations_url": "https://api.github.com/users/kemu3007/orgs",
        "repos_url": "https://api.github.com/users/kemu3007/repos",
        "events_url": "https://api.github.com/users/kemu3007/events{/privacy}",
        "received_events_url": "https://api.github.com/users/kemu3007/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 3898939400,
            "node_id": "LA_kwDOG7qoq87oZRgI",
            "url": "https://api.github.com/repos/kemu3007/portal/labels/article",
            "name": "article",
            "color": "C200E5",
            "default": false,
            "description": ""
        },
        {
            "id": 3900082041,
            "node_id": "LA_kwDOG7qoq87odod5",
            "url": "https://api.github.com/repos/kemu3007/portal/labels/Utils",
            "name": "Utils",
            "color": "170627",
            "default": false,
            "description": ""
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-05-06T14:59:25Z",
    "updated_at": "2022-05-06T15:19:57Z",
    "closed_at": null,
    "author_association": "OWNER",
    "active_lock_reason": null,
    "body": "\nIf you host a static site on GitHub Pages and do not maintain a backend, you cannot authenticate users, so deploy the site on Cloudflare Pages and use Cloudflare Access to authenticate users and allow them to view the site only after they pass.\n\n[Cloudflare -  The Web Performance and Security Company | Cloudflare](https://www.cloudflare.com/ja- jp/)\n\n## GitHub / GitLab integration & deployment\n\nIt can be set to deploy at the time it is pushed, and it will be automatically linked by selecting it from the following screen.\n\nA domain is assigned to each project, and a preview environment for each pushed branch is deployed in that subdomain.\n\n![image](https://user-images.githubusercontent.com/29157528/167156872-409ce84b-f912-44e3-83bc-1e4c37728dc8.png)\n\nBuild commands such as SPA can also be set. Note that if you do not set an environment variable, the Node version will automatically be set to 12, so you need to specify `NODE_VERSION` in the environment variable.\n\nIt is also possible to pre- process Python scripts, but since the 3.8 or higher interpreter does not exist on the image, it cannot be used. This must also be specified with `PYTHON_VERSION`.\n\n![image](https://user-images.githubusercontent.com/29157528/167157817-3dd93ca1-fd8b-44d7-8bfc-06d703357f96.png)\n\n![image](https://user-images.githubusercontent.com/29157528/167162708-2a5a77fd-7eec-4edd-9e18-55cce7702887.png)\n\nYou can also confirm from the GitHub side that the process is running automatically at the timing of the push.\n\n![image](https://user-images.githubusercontent.com/29157528/167157214-336b032d-708e-4510-8592-473da8a4d5f0.png)\n\n## User authentication\n\nConfigure the settings from `Configuration` - > `General` - > `Access Policy`.\n\nCreate a policy for `*.project.pages.dev` to set the policy for the domain in the preview environment, or for `project.pages.dev` to do so for the production environment.\n\nThis will bring up the following login screen\n\n![image](https://user-images.githubusercontent.com/29157528/167158540-73cb3628-23b6-4f73-ba63-0abaaa405453.png)\n\n## Impressions\n\nIt takes more work than GitHub Pages, but I think it's pretty good because user authentication can be implemented more easily and the integration with repositories doesn't seem to be too bad. (The admin panel is a bit difficult to use.)\n\nI found it a bit of a snag that you cannot create an application policy for Cloudflare Pages from the [Cloudflare Zero Trust](https://www.cloudflare.com/ja- jp/products/zero- trust/) screen, but have to create the policy from the Pages side. I felt that this was a little bit of a stumbling block.\n\n\n",
    "reactions": {
        "url": "https://api.github.com/repos/kemu3007/portal/issues/42/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/kemu3007/portal/issues/42/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}