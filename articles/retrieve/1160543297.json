{"url": "https://api.github.com/repos/kemu3007/portal/issues/9", "repository_url": "https://api.github.com/repos/kemu3007/portal", "labels_url": "https://api.github.com/repos/kemu3007/portal/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/kemu3007/portal/issues/9/comments", "events_url": "https://api.github.com/repos/kemu3007/portal/issues/9/events", "html_url": "https://github.com/kemu3007/portal/issues/9", "id": 1160543297, "node_id": "I_kwDOG7qoq85FLHxB", "number": 9, "title": "\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30c6\u30b9\u30c8\u3092\u66f8\u304f(\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30c6\u30b9\u30c8\u7de8)", "user": {"login": "kemu3007", "id": 29157528, "node_id": "MDQ6VXNlcjI5MTU3NTI4", "avatar_url": "https://avatars.githubusercontent.com/u/29157528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kemu3007", "html_url": "https://github.com/kemu3007", "followers_url": "https://api.github.com/users/kemu3007/followers", "following_url": "https://api.github.com/users/kemu3007/following{/other_user}", "gists_url": "https://api.github.com/users/kemu3007/gists{/gist_id}", "starred_url": "https://api.github.com/users/kemu3007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kemu3007/subscriptions", "organizations_url": "https://api.github.com/users/kemu3007/orgs", "repos_url": "https://api.github.com/users/kemu3007/repos", "events_url": "https://api.github.com/users/kemu3007/events{/privacy}", "received_events_url": "https://api.github.com/users/kemu3007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3898939400, "node_id": "LA_kwDOG7qoq87oZRgI", "url": "https://api.github.com/repos/kemu3007/portal/labels/article", "name": "article", "color": "C200E5", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": [], "created_at": "2022-03-06T07:47:02Z", "updated_at": "2022-03-06T07:47:14Z", "closed_at": null, "author_association": "OWNER", "active_lock_reason": null, "body": "### \u74b0\u5883\r\nAngular 13, node 16\r\n\r\n\u4eca\u56de\u306fjest\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5165\u3063\u3066\u3044\u308bKarma\u3092\u524a\u9664\u3057\u307e\u3059\r\n```sh\r\nnpm run ng add @briebug/jest-schematic\r\n```\r\n\r\n\u53c2\u8003: https://github.com/briebug/jest-schematic\r\n\r\n### \u30c6\u30b9\u30c8\u3092\u66f8\u304f\r\n- app.component.spec.ts\r\n\r\n```ts\r\n  it('snapshot test', () => {\r\n    const fixture = TestBed.createComponent(AppComponent);\r\n    fixture.detectChanges();\r\n    const compiled = fixture.nativeElement;\r\n    expect(compiled).toMatchSnapshot();\r\n  })\r\n```\r\n\r\n### \u5b9f\u884c\r\n\r\n`npm run test`\u3067\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u969b\u3001\u65e2\u5b58\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304c\u306a\u3044\u3001\u3082\u3057\u304f\u306f` --update-snapshot`\u304c\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u4ed8\u3051\u3089\u308c\u305f\u5834\u5408\u3001`__snapshots__`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u305d\u306e\u4f8b\u3067\u3059\u3002\r\n\r\n- `__snapshots__/app.component.spec.ts.snap`\r\n\r\n```ts\r\n// Jest Snapshot v1, https://goo.gl/fbAQLP\r\n\r\nexports[`AppComponent snapshot test 1`] = `\r\n<div\r\n  id=\"root2\"\r\n>\r\n  <mat-toolbar>\r\n    <mat-toolbar-row\r\n      style=\"padding: 0 16px 0 0;\"\r\n    >\r\n      <button\r\n        mat-button=\"\"\r\n      >\r\n...\r\n```\r\n\u30c6\u30b9\u30c8\u5931\u6557\u6642\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\r\n\r\n```bash\r\n    expect(received).toMatchSnapshot()\r\n\r\n    Snapshot name: `AppComponent snapshot test 1`\r\n\r\n    - Snapshot  - 1\r\n    + Received  + 1\r\n\r\n    @@ -1,11 +1,11 @@\r\n      <div\r\n        id=\"root2\"\r\n      >\r\n        <mat-toolbar>\r\n          <mat-toolbar-row\r\n    -       style=\"padding: 0 16px 0 0;\"\r\n    +       style=\"padding: 1 16px 0 0;\"\r\n          >\r\n            <button\r\n              mat-button=\"\"\r\n            >\r\n              <mat-icon>\r\n\r\n      33 |     fixture.detectChanges();\r\n      34 |     const compiled = fixture.nativeElement;\r\n    > 35 |     expect(compiled).toMatchSnapshot();\r\n         |                      ^\r\n      36 |   })\r\n      37 | });\r\n      38 |\r\n\r\n      at src/app/app.component.spec.ts:35:22\r\n      at ZoneDelegate.Object.<anonymous>.ZoneDelegate.invoke (node_modules/zone.js/bundles/zone-testing-bundle.umd.js:407:30)\r\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing-bundle.umd.js:3765:43)\r\n      at ZoneDelegate.Object.<anonymous>.ZoneDelegate.invoke (node_modules/zone.js/bundles/zone-testing-bundle.umd.js:406:56)\r\n      at Zone.Object.<anonymous>.Zone.run (node_modules/zone.js/bundles/zone-testing-bundle.umd.js:167:47)\r\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing-bundle.umd.js:4250:34)\r\n\r\n \u203a 1 snapshot failed.\r\nSnapshot Summary\r\n \u203a 1 snapshot failed from 1 test suite. Inspect your code changes or re-run jest with `-u` to update them.\r\n\r\nTest Suites: 1 failed, 1 total\r\nTests:       1 failed, 2 passed, 3 total\r\nSnapshots:   1 failed, 1 total\r\nTime:        1.667 s, estimated 2 s\r\nRan all test suites.\r\n```\r\n\r\n### \u30c6\u30b9\u30c8\u306e\u610f\u5473\r\n\r\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u5bfe\u3059\u308b\u4fee\u6b63\u3092\u884c\u3063\u305f\u969b\u3001\u4fee\u6b63\u70b9\u306e\u5f71\u97ff\u3092\u8efd\u304fassert\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\r\n\r\n\u554f\u984c\u70b9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\r\n\r\n- css\u3092style\u5f62\u5f0f\u3067\u30a4\u30f3\u30e9\u30a4\u30f3\u8a18\u8ff0\u3057\u306a\u3044\u3068assert\u3067\u304d\u306a\u3044\r\n- \u6761\u4ef6\u306b\u5fdc\u3058\u3066\u8868\u793a\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u95a2\u3057\u3066\u306f\u5225\u9014patch\u3057\u3066assert\u3059\u308b\u5fc5\u8981\u3042\u308a(snapshot\u3092\u6bce\u56de\u3068\u3063\u3066\u3044\u308b\u3068\u9045\u3044\u306e\u3067)\r\n\r\ncss\u306b\u95a2\u3057\u3066\u306f\u9855\u8457\u3067\u30c6\u30b9\u30c8\u3067\u898b\u308b\u305f\u3081\u306b\u306f\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3051\u308c\u3069css\u3092\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u8a18\u8ff0\u3057\u3066\u53ef\u8aad\u6027\u3092\u4e0b\u3052\u305f\u304f\u306a\u3044\u3068\u3044\u3046\u30b8\u30ec\u30f3\u30de\u306b\u8972\u308f\u308c\u307e\u3059\u3002\r\n\r\n### \u6ce8\u610f\u70b9\r\n\r\n`__snapshots__` \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u898b\u305f\u76ee\u306f\u3061\u3087\u3063\u3068\u3042\u308c\u3067\u3059\u304cgit\u306b\u7ba1\u7406\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\r\n\r\n### \u7dcf\u8a55\r\n\r\n\u307e\u3042\u904e\u5ea6\u306a\u671f\u5f85\u306f\u305b\u305a\u306b\u8efd\u304f\u5206\u304b\u308c\u3070\u3044\u3044\u304b\u306a\u3068\u3044\u3046\u30ec\u30d9\u30eb\u306e\u30c6\u30b9\u30c8\u3067\u3059\u3002", "reactions": {"url": "https://api.github.com/repos/kemu3007/portal/issues/9/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kemu3007/portal/issues/9/timeline", "performed_via_github_app": null}