{"version":3,"mappings":"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","names":["i0","LogDetailComponent","constructor","route","markedService","sanitizer","articlesService","this","marked","article","_article","html","bypassSecurityTrustHtml","parse","body","snapshot","fragment","interval","pipe","take","subscribe","_","window","location","replace","origin","pathname","ngOnInit","get","issueId","getComments","comments","paramMap","adsLength","hasMd","screen","width","selectors","routes","path","component","articleService","getList","articles","articleKeys","Object","keys","sort","a","b","Math","floor","length","getLabels","labels","filter","label","name","LogListComponent","LogRoutingModule","RouterModule","LogModule","CommonModule","SharedModule"],"sources":["./src/app/log/log-detail/log-detail.component.html","./src/app/log/log-detail/log-detail.component.ts","./src/app/log/log-list/log-list.component.html","./src/app/log/log-routing.module.ts","./src/app/log/log-list/log-list.component.ts","./src/app/log/log.module.ts"],"sourcesContent":["<div class=\"container-fluid\">\n  <div class=\"row mt-3\" *ngIf=\"article\">\n    <div class=\"col-md-8 border-end border-2 pb-5\">\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <app-lazy-img\n            [src]=\"'/assets/images/' + article.id + '.png'\"\n            [alt]=\"article.title\"\n            [title]=\"article.title\"\n          ></app-lazy-img>\n        </div>\n        <div class=\"col-md-8\">\n          <h2>{{ article.title }}</h2>\n          <p class=\"text-muted mb-1\">作成日: {{ article.created_at | date: 'yyyy.MM.dd hh:mm' }}</p>\n          <p class=\"text-muted\">最終更新日: {{ article.updated_at | date: 'yyyy.MM.dd hh:mm' }}</p>\n          <div class=\"d-flex justify-content-end\">\n            <app-tweet-btn></app-tweet-btn>\n          </div>\n        </div>\n      </div>\n      <hr />\n      <div [innerHTML]=\"html\"></div>\n      <hr class=\"mt-5\" />\n      <div class=\"d-flex justify-content-between\">\n        <h3 id=\"comments\">comments</h3>\n        <app-tweet-btn></app-tweet-btn>\n      </div>\n      <div class=\"card\" *ngFor=\"let comment of article.comments\">\n        <div class=\"card-body\">\n          <div class=\"row\">\n            <img [src]=\"comment.user.avatar_url\" style=\"width: 50px\" />\n            <a style=\"display: contents\" [href]=\"comment.user.html_url\">{{ comment.user.login }}</a\n            ><br />\n          </div>\n          <hr class=\"mt-0 mb-1\" />\n          {{ comment.body }}\n        </div>\n      </div>\n      <p class=\"mt-3\">\n        コメントは<a [href]=\"article.html_url\">こちら<i class=\"bi bi-link-45deg\"></i></a>から\n        <br />\n        ※リリースタイミングの問題上ページに反映されないことがありますが確認してます。\n      </p>\n    </div>\n    <div class=\"col-md-4 bg-light\">\n      <app-ads [count]=\"adsLength\" type=\"box\"></app-ads>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport { ActivatedRoute } from '@angular/router';\nimport { ArticleDetail } from '@app/shared/articles/articles';\nimport { ArticlesService } from '@app/shared/articles/articles.service';\nimport { Comment } from '@app/shared/articles/comments';\nimport { MarkedService } from '@app/shared/markdown/marked.service';\nimport { interval, take } from 'rxjs';\n\n@Component({\n  selector: 'app-blog-detail',\n  templateUrl: './log-detail.component.html',\n  styleUrls: ['./log-detail.component.scss'],\n})\nexport class LogDetailComponent implements OnInit {\n  marked = this.markedService.marked;\n  html: SafeHtml = '';\n  _article?: ArticleDetail;\n  comments: Comment[] = [];\n\n  constructor(\n    private route: ActivatedRoute,\n    private markedService: MarkedService,\n    private sanitizer: DomSanitizer,\n    private articlesService: ArticlesService\n  ) {}\n\n  get article() {\n    return this._article;\n  }\n\n  set article(article: ArticleDetail | undefined) {\n    if (article) {\n      this._article = article;\n      this.html = this.sanitizer.bypassSecurityTrustHtml(this.marked.parse(article.body));\n      if (this.route.snapshot.fragment) {\n        interval(100)\n          .pipe(take(1))\n          .subscribe((_) => {\n            window.location.replace(\n              `${window.location.origin}${window.location.pathname}#${this.route.snapshot.fragment}`\n            );\n          });\n      }\n    }\n  }\n\n  ngOnInit(): void {\n    this.articlesService.get(`/assets/logs/${this.issueId}.json`).subscribe((article) => (this.article = article));\n    this.articlesService\n      .getComments(`/assets/comments/${this.issueId}.json`)\n      .subscribe((comments) => (this.comments = comments));\n  }\n\n  get issueId() {\n    return this.route.snapshot.paramMap.get('id');\n  }\n\n  get adsLength(): number {\n    const hasMd = window.screen.width >= 768;\n    return hasMd ? 4 : 1;\n  }\n}\n","<div class=\"container-fluid\">\n  <div class=\"row mt-3\">\n    <div class=\"col-md-9 row mx-0 border-end border-2\">\n      <div class=\"col-md-4 bg-light px-0 mx-0\" *ngFor=\"let key of articleKeys; index as i\">\n        <a\n          class=\"card shadow mt-1 text-decoration-none text-muted h-100\"\n          [routerLink]=\"['/log', key]\"\n          style=\"cursor: pointer\"\n        >\n          <div class=\"log-thumbnail\">\n            <app-lazy-img [src]=\"articles[key].photo!\" alt=\"no image\"></app-lazy-img>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <h3 class=\"card-title text-black\">\n                {{ articles[key].title }}\n              </h3>\n              <p class=\"card-text\">{{ articles[key].body }}</p>\n            </div>\n          </div>\n        </a>\n      </div>\n    </div>\n    <div class=\"col-md-3\">\n      <app-ads type=\"box\" [count]=\"adsLength\"></app-ads>\n    </div>\n  </div>\n</div>\n","import { LogDetailComponent } from './log-detail/log-detail.component';\nimport { LogListComponent } from './log-list/log-list.component';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [\n  { path: '', component: LogListComponent },\n  { path: ':id', component: LogDetailComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LogRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Article, Label } from '@app/shared/articles/articles';\nimport { ArticlesService } from '@app/shared/articles/articles.service';\n\n@Component({\n  selector: 'app-blog-list',\n  templateUrl: './log-list.component.html',\n  styleUrls: ['./log-list.component.scss'],\n})\nexport class LogListComponent implements OnInit {\n  articles: Record<string, Article> = {};\n\n  constructor(private articleService: ArticlesService) {}\n\n  ngOnInit() {\n    this.articleService.getList('/assets/logs/list.json').subscribe((articles) => (this.articles = articles));\n  }\n\n  get articleKeys(): string[] {\n    return Object.keys(this.articles).sort((a, b) => (a > b ? -1 : 1));\n  }\n\n  get adsLength(): number {\n    const hasMd = window.screen.width >= 768;\n    return hasMd ? Math.floor(Object.keys(this.articles).length / 3) || 1 : 1;\n  }\n\n  getLabels(article: Article): Label[] {\n    return article.labels.filter((label) => label.name !== 'log');\n  }\n}\n","import { LogDetailComponent } from './log-detail/log-detail.component';\nimport { LogListComponent } from './log-list/log-list.component';\nimport { LogRoutingModule } from './log-routing.module';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { SharedModule } from '@app/shared/shared.module';\n\n@NgModule({\n  declarations: [LogListComponent, LogDetailComponent],\n  imports: [CommonModule, LogRoutingModule, SharedModule],\n})\nexport class LogModule {}\n"],"sourceRoot":"webpack:///","file":"113.92f0da0ffdabdc71.js"}