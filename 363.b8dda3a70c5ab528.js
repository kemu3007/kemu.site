"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[363],{5363:e=>{e.exports=JSON.parse('{"url":"https://api.github.com/repos/kemu3007/portal/issues/11","repository_url":"https://api.github.com/repos/kemu3007/portal","labels_url":"https://api.github.com/repos/kemu3007/portal/issues/11/labels{/name}","comments_url":"https://api.github.com/repos/kemu3007/portal/issues/11/comments","events_url":"https://api.github.com/repos/kemu3007/portal/issues/11/events","html_url":"https://github.com/kemu3007/portal/issues/11","id":1160543419,"node_id":"I_kwDOG7qoq85FLHy7","number":11,"title":"Nuxt\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3068\u3046\u307e\u304f\u3084\u308b","user":{"login":"kemu3007","id":29157528,"node_id":"MDQ6VXNlcjI5MTU3NTI4","avatar_url":"https://avatars.githubusercontent.com/u/29157528?v=4","gravatar_id":"","url":"https://api.github.com/users/kemu3007","html_url":"https://github.com/kemu3007","followers_url":"https://api.github.com/users/kemu3007/followers","following_url":"https://api.github.com/users/kemu3007/following{/other_user}","gists_url":"https://api.github.com/users/kemu3007/gists{/gist_id}","starred_url":"https://api.github.com/users/kemu3007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kemu3007/subscriptions","organizations_url":"https://api.github.com/users/kemu3007/orgs","repos_url":"https://api.github.com/users/kemu3007/repos","events_url":"https://api.github.com/users/kemu3007/events{/privacy}","received_events_url":"https://api.github.com/users/kemu3007/received_events","type":"User","site_admin":false},"labels":[{"id":3898939400,"node_id":"LA_kwDOG7qoq87oZRgI","url":"https://api.github.com/repos/kemu3007/portal/labels/article","name":"article","color":"C200E5","default":false,"description":""},{"id":3900072852,"node_id":"LA_kwDOG7qoq87odmOU","url":"https://api.github.com/repos/kemu3007/portal/labels/Nuxt","name":"Nuxt","color":"0E8A16","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-03-06T07:47:51Z","updated_at":"2022-03-06T15:19:29Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"\u81ea\u52d5\u7684\u306b\u73fe\u5728\u306e\u30b3\u30fc\u30c9\u304c\u6700\u65b0\u304b\u3069\u3046\u304b\u30c1\u30a7\u30c3\u30af\u3057\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u66f4\u65b0\u3092\u884c\u3044\u307e\u3059\u3002\\r\\n\\r\\n#### \u691c\u8a3c\u74b0\u5883\\r\\n- Nuxt: 2.15.8\\r\\n- @nuxtjs/pwa: 3.3.5\\r\\n\\r\\n#### \u30b3\u30fc\u30c9\\r\\n`nuxt.config.js`\\r\\n\\r\\n```js\\r\\n{\\r\\n  plugins: [\'plugins/prompt-update.js\']\\r\\n}\\r\\n```\\r\\n\\r\\n`plugins/prompt-update.js`\\r\\n\\r\\n```js\\r\\nexport default async () => {\\r\\n  if (\'serviceWorker\' in navigator) {\\r\\n    navigator.serviceWorker.getRegistration(\\"/sw.js\\").then(registration => {\\r\\n      setInterval(()=>{registration.update()}, 1000)\\r\\n      registration.onupdatefound  = () => window.location.reload()\\r\\n    })\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n`setInterval` \u306e `1000` \u306e\u90e8\u5206\u306f\u66f4\u65b0\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u30b9\u30d1\u30f3\u3092\u4efb\u610f\u306b\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044(\u30df\u30ea\u79d2)\\r\\n`registration.update()` \u306b\u3088\u308a\u3001`/sw.js`\u3078\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u9001\u3089\u308c\u3001\u5185\u90e8\u306e`revision`\u306e\u5024\u304c\u5909\u66f4\u3055\u308c\u305f\u3053\u3068\u3092\u691c\u77e5\u3057\u3001\u30ea\u30ed\u30fc\u30c9\u3059\u308b\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\\r\\n\\r\\n#### \u52d5\u4f5c\u78ba\u8a8d\u624b\u6cd5\\r\\n`npm run generate`, `http-server dist/ -p 3000`\u3067\u914d\u4fe1\u3092\u884c\u3044\u3001\u5185\u90e8\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\u5f8c\u518d\u5ea6generate\u3059\u308b\u3053\u3068\u3067\u81ea\u52d5\u7684\u306b\u66f4\u65b0\u3055\u308c\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\\r\\n\\r\\n\u4ee5\u4e0b\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ed\u30b0\u3067`sw.js`\u306e\u66f4\u65b0\u30c1\u30a7\u30c3\u30af\u304c\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\\r\\n```\\r\\n[2022-02-05T11:06:44.398Z]  \\"GET /sw.js\\" \\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) ...\\"\\r\\n```","reactions":{"url":"https://api.github.com/repos/kemu3007/portal/issues/11/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kemu3007/portal/issues/11/timeline","performed_via_github_app":null}')}}]);